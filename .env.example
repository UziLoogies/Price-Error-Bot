# Price Error Bot Configuration
# Copy this file to .env and configure your settings

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# PostgreSQL connection string for the bot database
DATABASE_URL=postgresql+asyncpg://price_bot:localdev@localhost:5432/price_bot

# ============================================================================
# REDIS CONFIGURATION  
# ============================================================================
# Redis connection string for caching and rate limiting
REDIS_URL=redis://localhost:6379/0

# ============================================================================
# WEB APPLICATION SETTINGS
# ============================================================================
# Host address the web server will bind to (0.0.0.0 for all interfaces)
APP_HOST=0.0.0.0

# Port the web server will run on
APP_PORT=8001

# Enable debug mode (true/false)
DEBUG=false

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# ============================================================================
# DISCORD NOTIFICATIONS (OPTIONAL)
# ============================================================================
# Discord webhook URL for sending price alerts
# Get this from your Discord server: Server Settings > Integrations > Webhooks
DISCORD_WEBHOOK_URL=

# ============================================================================
# THIRD-PARTY SERVICES (OPTIONAL)
# ============================================================================
# Keepa API key for enhanced Amazon price tracking (optional)
# Get an API key from https://keepa.com/#!api
KEEPA_API_KEY=

# ============================================================================
# SCANNING & SCHEDULING SETTINGS
# ============================================================================
# How often to scan store categories (in minutes)
FETCH_INTERVAL_MINUTES=5

# How long to prevent duplicate alerts for same deals (in hours)
DEDUPE_TTL_HOURS=12

# Cooldown period between alerts for same product (in minutes)  
COOLDOWN_MINUTES=60

# ============================================================================
# RATE LIMITING & PERFORMANCE
# ============================================================================
# Maximum number of concurrent HTTP requests to retailers
MAX_CONCURRENT_REQUESTS=10

# Rate limit for requests per second to avoid being blocked
REQUESTS_PER_SECOND=2.0

# ============================================================================
# BROWSER AUTOMATION SETTINGS
# ============================================================================
# Directory to store browser session data
SESSION_STORAGE_PATH=data/sessions

# Timeout for headless browser operations (in seconds)
HEADLESS_BROWSER_TIMEOUT=30

# ============================================================================
# DEAL FILTERING SETTINGS
# ============================================================================
# Global minimum price for deals (excludes very cheap items)
GLOBAL_MIN_PRICE=50.0

# Global minimum discount percentage required
GLOBAL_MIN_DISCOUNT_PERCENT=50.0

# ============================================================================
# KIDS ITEM EXCLUSIONS
# ============================================================================
# Maximum price for items that might be kids toys/games to exclude
KIDS_LOW_PRICE_MAX=30.0

# Comma-separated keywords to identify and exclude kids items
KIDS_EXCLUDE_KEYWORDS=kid,kids,child,children,toddler,toy,play,playset,pretend,ages,age,play kitchen,doctor kit,magnetic tiles

# Walmart-specific SKUs to exclude (comma-separated)
KIDS_EXCLUDE_SKUS_WALMART=5116478924,780568056,5152678945,10025719060,16501550266